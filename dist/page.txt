2023-12-08 09:57:16 INFO Selenium [:logger_info] Details on how to use and modify Selenium logger:
  https://selenium.dev/documentation/webdriver/troubleshooting/logging

2023-12-08 09:57:16 WARN Selenium [:selenium_manager] The chromedriver version (119.0.6045.105) detected in PATH at /opt/homebrew/bin/chromedriver might not be compatible with the detected chrome version (120.0.6099.71); currently, chromedriver 120.0.6099.71 is recommended for chrome 120.*, so it is advised to delete the driver in PATH and retry 
Gmail ヘルプ
ログイン
ヘルプ センター
コミュニティ
統合 Gmail の新機能
Gmail
一括送信メールを送信するメール送信者のガイドライン
メール送信者のガイドライン
重要: Gmail では 2024 年 2 月以降、Gmail アカウントに 1 日あたり 5,000 件以上のメールを送信する送信者に対し、1. 送信メールを認証すること、2. 未承諾のメールまたは迷惑メールを送信しないようにすること、3. 受信者がメールの配信登録を容易に解除できるようにすること、の 3 つが義務付けられます。詳しくは、1 日あたり 5,000 件以上のメールを送信する場合の要件をご覧ください。
この記事のガイドラインに沿った対応を行うことで、Gmail アカウントにメールが正常に送信、配信されるようになります。Gmail アカウントとは、次のいずれかの種類のアカウントを指します。
末尾が @gmail.com または googlemail.com の個人アカウント
職場または学校で導入している Google Workspace のアカウント（末尾が @gmail.com でないアカウント）。
Google Workspace の送信者: Google Workspace を使用して大量のメールを送信する場合は、Gmail での迷惑メールや不正行為に関する規定をご確認ください。この規定は Google Workspace 利用規定の一部です。
送信者のガイドライン
以下のガイドラインに沿った対応を行うと、メールが Gmail アカウントに確実に配信されるうえ、Gmail で送信レートが制限されることや、メールがブロックされたり、迷惑メールに振り分けられたりすることを防ぐことができます。
すべての送信者の要件


1 日あたり 5,000 件以上のメールを送信する場合の要件
メール認証の要件と推奨事項
ドメインに SPF、DKIM、DMARC のメール認証方式を設定してください。メールの認証には、次のような利点があります。
なりすましメールやフィッシング メールなどの悪意のあるメールから受信者を保護できます。
ご自身と組織をなりすましから保護できます。
Gmail で拒否されたり、迷惑メールに分類されたりする可能性が低くなります。
ドメイン プロバイダで、送信ドメインごとにメール認証を設定します。Google が提示する手順に加えて、ドメイン プロバイダのメール認証手順も参照してください。
Google では、メールが認証されていることを確認するために、Gmail アカウントに送信されたメールのチェックを行います。メールが確実に配信されるようにするには、ドメインに SPF、DKIM、DMARC を常に設定することをおすすめします。また、送信者のガイドラインに示されている認証の最小要件を満たしていることを確認してください。こうした方式で認証されていないメールは、迷惑メールに分類されたり、5.7.26 エラーで拒否されたりすることがあります。
メールサービス プロバイダを利用している場合は、プロバイダが SPF と DKIM でドメインのメールを認証していることを確認してください。
メールの認証と公開ウェブサイトのホスティングには、常に同じドメインを使用することをおすすめします。
SPF
SPF は、スパマーが未認証のメールをお客様のドメインからのものであると装って送信することを防ぎます。ドメインで SPF レコードを公開して SPF を設定します。ドメインの SPF レコードでは、ご使用のドメインのすべてのメール送信元を参照する必要があります。サードパーティ送信元が SPF レコードに含まれていない場合、この送信元から送信されたメールは、迷惑メールに分類される可能性が高くなります。詳しくは、SPF レコードを定義してドメインに追加する方法についての記事をご覧ください。
DKIM
メールを送信するドメインで DKIM を有効にします。受信サーバーは DKIM を使用して、実際にメールを送信したのがドメイン所有者であることを確認します。詳しくは、ドメインで DKIM を有効にする方法をご覧ください。
重要: 個人用 Gmail アカウント宛てに送信するには、1,024 ビット以上の DKIM 鍵が必要です。セキュリティ上の理由から、2,048 ビットの鍵を使用することをおすすめします（ドメイン プロバイダが 2,048 ビットの鍵をサポートしている場合）。詳しくは、DKIM 鍵の長さについての記事をご覧ください。
DMARC
DMARC は、ドメインからのメールが SPF または DKIM による認証に合格しなかった場合に、そうしたメールの処理方法を受信サーバーに指示します。ドメインの DMARC レコードを公開して、DMARC を設定します。DMARC 認証に合格するには、メールが SPF および / または DKIM によって認証される必要があります。認証ドメインは、メールの From: ヘッダーに含まれているドメインと一致している必要があります。詳しくは、ドメインで DMARC レコードを追加する方法についての記事をご覧ください。
ドメインから送信されたメールまたはドメインから送信されたと思われるメールを監視できるように、DMARC レポートを設定することをおすすめします。DMARC レポートは、ドメインになりすましている可能性のある送信者を特定するのに役立ちます。詳しくは、DMARC レポートをご覧ください。
DMARC を設定する際は、必要に応じて、ドメインから送信されるメールにブランドロゴを追加する BIMI を設定することもできます。詳しくは、BIMI でブランドロゴをメールに追加する方法をご覧ください。
ARC
ARC は、転送されたメールの以前の認証ステータスを確認します。転送されたメールが SPF または DKIM による認証に合格しても、ARC で以前に認証に失敗したと表示される場合、そのメールは Gmail で未認証として扱われます。
送信者は、メールを定期的に転送する場合は特に、ARC 認証を使用することが推奨されます。詳しくは、ARC 認証についての記事をご覧ください。
インフラストラクチャの構成
IP アドレス
送信元 IP アドレスには PTR レコードが必要です。PTR レコードによって、送信元ホスト名が送信元 IP アドレスに関連付けられていることが検証されます。すべての IP アドレスは、PTR レコードのホスト名にマッピングされる必要があります。PTR レコードで指定されたホスト名には、送信元 IP アドレスを参照する正引き DNS が必要です。
送信元サーバーの IP アドレスとドメインを対応付ける有効な逆引き DNS レコードを設定します。Google 管理者ツールボックスの Dig ツールを使用して PTR レコードを確認します。
重要: 送信元 IP アドレスは、ポインタ（PTR）レコードで指定されたホスト名の IP アドレスと一致している必要があります。
共有 IP アドレス
共有 IP アドレス（共有 IP）は、複数のメール送信者によって使用される IP アドレスです。共有 IP アドレスを使用するすべての送信者のアクティビティが、その共有 IP アドレスの送信者全体の評価に影響します。
低評価の場合、到達率に影響が出ることがあります。
メールの送信に共有 IP アドレスを使用する場合:
共有 IP アドレスがインターネット上のいずれの拒否リストにも登録されていないことを確認します。拒否リストに登録された IP アドレスから送信されたメールは、迷惑メールに分類される可能性が高くなります。
共有 IP アドレスでメールサービス プロバイダを利用する場合は、Postmaster Tools を使用して共有 IP アドレスの評価を監視してください。
配信登録
メールの受け取りを承諾しているユーザーにのみメールを送信するようにすれば、その送信元ドメインからのメールが迷惑メールとして報告される可能性が低くなります。
ドメインからのメールが迷惑メールとして報告される頻度が高いと、以降のメールは迷惑メールに分類される可能性が高くなります。迷惑メールとして報告され続けていると、ドメインの評価が下がる可能性があります。ドメインの評価は Postmaster Tools を使用して監視できます。
簡単に登録できるようにする
受信者が配信を承諾していることを確認するには:
受信者がメールの配信を許可していることを確認します。
受信者の登録を行う前に、各受信者のメールアドレスを確認します。
定期的にメールを送信して、受信者が登録の継続を希望するかどうかを確認します。
あなたからのメールを開封していない、あるいは読んでいないユーザーについては、配信登録を解除することを検討します。
簡単に登録解除できるようにする
受信者がメールの配信登録を簡単に解除できる方法を常に用意してください。ユーザーがメールの受信を停止できるようにすることで、開封率、クリック率、送信効率を上げることができます。ワンクリックでの登録解除に対応すると、ユーザーはメールの受信停止を簡単に行えるようになります。1 日に 5,000 件を超えるマーケティング目的のメールや配信登録されたメールを送信する場合は、ワンクリックでの登録解除に対応する必要があります。
ワンクリックでの登録解除を設定するには、送信メールに次の両方のヘッダーを含めます。
List-Unsubscribe-Post: List-Unsubscribe=One-Click
List-Unsubscribe: <https://solarmora.com/unsubscribe/example>
受信者がワンクリックで登録解除すると、次の POST リクエストが届きます。
"POST /unsubscribe/example HTTP/1.1
Host: solarmora.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 26
List-Unsubscribe=One-Click"
詳しくは、RFC 2369 および RFC 8058 の List-Unsubscribe: ヘッダーについての記事をご覧ください。
推奨されるその他の登録解除方法:
受信者が、登録しているメーリング リストを自分で確認して、リストごとに登録解除するか、すべてのリストの登録をまとめて解除できるようにします。
何回もメールが返送された受信者を自動的に登録解除します。
メールの形式設定
次に紹介するメールの形式設定に関するガイドラインに沿って作成したメールは、Gmail で迷惑メールフォルダではなく、受信トレイに配信される可能性が高くなります。
Internet Format Standard（RFC 5322）に準拠する形式でメールを作成します。
HTML メールの場合は、HTML 標準に準拠する形式でメールを作成します。
HTML または CSS を使用してメールのコンテンツを非表示にしないでください。コンテンツを非表示にすると、メールが迷惑メールに分類される可能性があります。
メールの From: ヘッダーには、次の例に示すようにメールアドレスを 1 つのみ含めるようにします。
From: notifications@solarmora.com
すべてのメールに有効な Message-ID（RFC 5322）が含まれていることを確認します。
単一インスタンスのヘッダーは、メール内に 1 回のみ含めるようにします。単一インスタンスのヘッダーには、From、To、Subject、Date などがあります（RFC 5322）。
過度に大きいメールヘッダーは使用しないでください。詳しくは、Gmail のメッセージ ヘッダーの制限をご覧ください。
メール本文中のリンクは、見やすく、わかりやすいものにする必要があります。リンクをクリックした場合の挙動について、受信者が把握できるようにします。
送信者の情報を、明確に、見やすく示す必要があります。
メールの件名は正確である必要があります。誤解を招くものであってはなりません。
以下の国際化ドメインの形式が、Highly Restrictive guidelines (Unicode Technical Standard #39、セクション 5.2) に準拠するようにします。
認証ドメイン
エンベロープ From ドメイン
ペイロード ドメイン
返信先ドメイン
送信元ドメイン
送信ガイドライン
ドメインから Gmail に送信したメールが迷惑メールに分類されたり、ブロックされたりする可能性を下げるには、ここで紹介する一般的なおすすめの方法を実施してください。
送信に関するおすすめの方法
適切に設定された SPF と DKIM を使用してメールを認証します。メール プロバイダを利用している場合は、プロバイダがこの認証に対応していることを確認してください。
すべてのメールが同じ IP アドレスから送信されるのが理想的です。複数の IP アドレスから送信する必要がある場合は、メールの種類ごとに異なる IP アドレスを使用します。たとえば、アカウントに関する通知メールの送信と、プロモーション関連のメールの送信にはそれぞれ別の IP アドレスを使用します。
同じカテゴリのメールでは、From: に同じメールアドレスを指定してください。たとえば、solarmora.com というドメインからのメールの From: アドレスは以下のように指定します。
顧客に送る領収書のメール: sales@solarmora.com
プロモーション メール: deals@solarmora.com
アカウントに関する通知メール: alert@solarmora.com
受信者の連絡先リストに登録されているアドレスからのメールは、迷惑メールに分類される可能性が低くなります。
避けるべき送信方法
同じメールに異なる内容を混在させないでください。たとえば、顧客に送る領収書のメールにプロモーションに関する内容を含めないでください。
許可なく他のドメインまたは送信者になりすまさないでください。そのような行為はなりすましと呼ばれ、Gmail によって該当するメールが迷惑メールに分類される可能性があります。
内部メールを迷惑メールとしてマークしないでください。内部メールに迷惑メールのマークを付けると、ドメインの評価が下がり、今後送信されるメールが迷惑メールに分類される可能性があります。
他の企業からメールアドレスを購入しないでください。
メールの配信登録をしていないユーザーにはメールを送信しないでください。そのような受信者は、メールを迷惑メールに分類する可能性があります。その場合、それらの受信者に送信される以降のメールも迷惑メールに分類されます。
デフォルトで有効になるオプトイン フォームを使用してユーザーを自動的に登録することは避けてください。一部の国や地域では、自動オプトインが制限されています。ユーザーのオプトインを自動で行うようにする前に、拠点とする国または地域の法律をご確認ください。
正当なメールであっても迷惑メールに分類されることがあります。受信者が正当なメールから迷惑メールのマークを外すと、同じ送信者からの以降のメールが受信トレイに配信されるようになります。
送信量を徐々に増やす
送信量を増やすときは、次の点に注意してください。
送信量を急激に増やすと、配信に問題が生じる場合があります。メールの送信量を徐々に増やすと同時に、Postmaster Tools を使用してメールのパフォーマンスを監視します。
仕事用アカウントおよび学校用アカウントの場合、異なる Google Workspace ドメインの受信者にも送信制限が適用されます。たとえば、ドメインが your-company.net と solarmora.com のメールアドレスを持つユーザーにメールを送信するとします。ドメインは異なりますが、どちらのドメインも MX レコードに google.com が含まれる場合、こうしたドメインに送信されたメールは送信制限にカウントされます。
メール送信に Google Workspace または Gmail を使用している場合: 送信制限に達すると、Google Workspace によって、送信元 IP アドレスのメール送信レートが制限されます。
大量のメールを送信する場合は、次のことをおすすめします。
常に一定の送信レートで送信します。一度に大量のメールを送信することは避けてください。
承諾しているユーザーへのメールは少ない送信量から始めて、時間をかけて量を増やします。
送信量の増加にあわせて、サーバーのレスポンス、迷惑メール率、送信元ドメインの評価を定期的に監視します。定期的に監視を行うと、送信レートが制限された場合、迷惑メール率が上昇した場合、または送信元ドメインの評価が低下した場合に迅速に対応できます。
過去に大量に送信したことがない場合は、送信量を急に増やすことは避けてください。たとえば、以前の送信量から急に 2 倍に増えると、レート制限や評価の低下につながる可能性があります。
一括送信メールの形式を変更する場合は、新しい形式で送信するメールの量を徐々に増やします。
送信インフラストラクチャや、メールまたはメールヘッダーの構成を大きく変更する場合は、変更前とは区別して変更後の送信量を徐々に増やします。
メールがバウンスされ始めたり、遅延し始めたりした場合は、SMTP エラー率が低下するまで送信量を減らします。その後、再度徐々に増やします。送信量が少ないにもかかわらずバウンスや遅延が続く場合は、個々のメールを確認して問題を特定します。たとえば、空のテストメールを送信して、問題が発生するかどうかを確認します。
送信について、以下の IP 制限内に収まるようにしてください。
google.com の MX ホストを持つドメインから送信する場合は、メールの送信制限に注意してください。
受信者のメールアドレスに含まれるドメインではなく、MX レコードのドメインに基づいて、1 つの IP アドレスからのメール送信を制限します。
送信制限内に収めるために、レスポンスを監視して送信レートを適宜変更します。
送信量を増やすペースは、次の要因の影響を受けます。
送信するメールの数: 送信するメールの数が多ければ多いほど、送信量をゆっくりと増やす必要があります。
メールの送信頻度: メールを週単位でなく日単位で送信するほうが、より早く送信量を増やすことができます。
メールに関する受信者からのフィードバック: メールの配信登録をしているユーザーにのみメールを送信するとともに、登録解除のオプションも提供します。
最近になってメール アクティビティが急増した場合は、前述のおすすめの方法を実践することで、以降の送信時に配信に関する問題が自動的に解決される可能性があります。
その他の考慮事項
メールサービス プロバイダを利用する
Google と Gmail では、メール プロバイダからの許可リスト登録リクエストは受け付けていません。メール プロバイダから送信されたメールが Gmail の迷惑メールフィルタを通過することは保証できません。
ご使用のドメインでサードパーティのメール プロバイダを利用してメールを送信している場合は、次のことを確認してください。
ご使用のプロバイダがこの記事のガイドラインに準拠していることを確認します。大手プロバイダ（Google、AOL、Yahoo など）は通常、こうしたガイドラインに準拠しています。
ドメインの SPF レコードに、ご使用のドメインのすべてのメール送信者の情報が含まれていることを確認します。サードパーティ送信者が SPF レコードに含まれていない場合、このプロバイダから送信されたメールは、迷惑メールに分類される可能性が高くなります。詳しくは、SPF レコードを設定する方法についての記事をご覧ください。
ドメイン プロバイダを利用しながら、メールは独自に管理している場合は、次の対策をおすすめします。
この記事で紹介している、Gmail アカウントにメールを送信する場合のおすすめの方法を確認して実施する。
Postmaster Tools を使用して、ドメインから Gmail アカウントに送信されたメールに関する情報を監視する。
サードパーティのメール プロバイダ
顧客がメールサービス プロバイダのサービスを利用してメールを送信する場合、顧客の送信アクティビティの責任はプロバイダが負うことになるため、以下の手順で顧客の送信アクティビティを管理することをおすすめします。
メールの不正使用を報告するためのメールアドレスをメール受信者に提供します（例: abuse@mail-provider.com）。
WHOIS レコードと abuse.net に登録した連絡先情報が最新であることを確認します。
メール プロバイダのサービスを利用して迷惑メールを送信した顧客を直ちに排除します。
アフィリエイト マーケティング
アフィリエイト マーケティング プログラムでは、対象のウェブサイトに訪問者を誘導した企業または個人に対して報酬が支払われますが、スパマーがそうしたプログラムを悪用する可能性もあります。ブランドがアフィリエイト マーケティングの迷惑メールに関連付けられてしまうと、そのブランドから送信される他のメールも迷惑メールに分類される可能性があります。
定期的にアフィリエイトを監視し、迷惑メールを送信するアフィリエイトを排除することをおすすめします。
フィッシング演習
フィッシングやキャンペーンのテストメールをドメインから送信しないでください。ドメインの評価が下がり、インターネット上のブロックリストに追加される可能性があります。
監視とトラブルシューティング
Postmaster Tools
Postmaster Tools を使用すると、Gmail ユーザーに送信したメールに関する次のような情報を取得できます。
受信者がそのメールを迷惑メールに分類したタイミング
メールが配信されない理由
メールが認証されているかどうか
ドメインまたは IP アドレスの評価と、その評価がメール到達率に与える影響
迷惑メール率
Postmaster Tools でドメインの迷惑メール率を定期的に監視します。
迷惑メール率が 0.10% 未満に維持されることを目指します。
迷惑メール率が 0.30% 以上にならないように（特に、その状態が長続きしないように）します。
迷惑メール率を低く維持すれば、一時的に急上昇してもメールがシステムによって迷惑メールとしてマークされる可能性が低くなります。
同様に、迷惑メール率が高い状態が続くと、迷惑メールへの分類が増加します。改善された迷惑メール率が迷惑メールへの分類に反映されるまでには、時間がかかることがあります。
開封率
Google では開封率を明示的に追跡していません。
第三者から報告された開封率の正確性を検証することはできません。
開封率が低かったとしても、配信に関する問題や迷惑メールの分類に関する問題があるとは限りません。
トラブルシューティング
警告バナー
ご利用のドメインが Google セーフ ブラウジングで危険なドメインとして登録されていないことを定期的に確認します。
ドメインのステータスを確認するには、セーフ ブラウジング サイトのステータス ページにドメインを入力してください。
リンクされている他のドメインもすべて確認します。
メールサービス プロバイダ経由で送信する際の配信の問題
サービス プロバイダを利用していて配信に関する問題が発生している場合は、そのプロバイダがこの記事に記載されているおすすめの方法を採用しているかどうかを確認してください。
Google 管理者ツールボックスを使用してドメインの設定を確認する
ドメインの設定を確認、修正するには、Google 管理者ツールボックスを使用します。
メールが拒否された原因を修正する
メールが拒否されると、エラー メッセージが表示される場合があります。問題を解決できるように、エラーの詳細を確認してください。一般的なエラー メッセージの例を次に示します。
421, "4.7.0": Messages are rejected because the sending server’s IP address is not on the allowed list for the recipient’s domain.（送信元サーバーの IP アドレスが受信者のドメインの許可リストに登録されていないため、メールが拒否されました。）
550, "5.7.1": Messages are rejected because the sending server’s IP address is on an IP suspended list.（送信元サーバーの IP アドレスが IP 停止リストに登録されているため、メールが拒否されました。）このエラーは、評価の低い共有 IP を使用してメールを送信すると発生する場合があります。
メールと SMTP に関するエラー メッセージについて詳しくは、次の記事をご覧ください。
SMTP エラー リファレンス
メールが返送または拒否される事象を解決する
IPv6 認証エラーを修正する
送信元サーバーの PTR レコードで IPv6 が使用されていない場合、IPv6 認証エラーが返される場合があります。メールサービス プロバイダを利用している場合は、プロバイダが IPv6 の PTR レコードを使用していることを確認してください。
IPv6 認証エラーの例を次に示します。
550-5.7.1: Message does not meet IPv6 sending guidelines regarding PTR records and authentication.（メールが PTR レコードと認証に関する IPv6 の送信ガイドラインに準拠していません。）
トラブルシューティング ツールを使用する
この記事のガイドラインに沿って対応した後もメールの配信に関する問題が解決されない場合は、メールの送信に関する問題のトラブルシューティングをご覧ください。
お客様の利便性のために、Google ポリシーの翻訳が提供されています。翻訳版のポリシーの文言と英語版のポリシーの文言の間に矛盾がある場合は、英語版の文言が優先されます。
関連リソース
返送されたメールを修正する
Google グループから拒否されたメールを修正する
この記事に関するフィードバックをお寄せください
さらにサポートが必要な場合
次の手順をお試しください。
ヘルプ コミュニティに投稿する
コミュニティ メンバーから回答を得る
一括送信メールを送信する
メール送信者のガイドライン
フィードバック ループ
Postmaster Tools
©2023 Google プライバシー ポリシー 利用規約 プログラム ポリシー
日本語
